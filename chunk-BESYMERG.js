import{a as z,c as U,e as $,j as A}from"./chunk-HABO7IB4.js";import{a as R}from"./chunk-MYF7UUOU.js";import{Ea as C,Eb as B,Fb as N,Gb as j,Ia as _,N as k,Pa as l,Qa as f,S as y,Ta as o,Ua as r,Va as x,Wa as T,Xa as I,Ya as v,Z as g,Za as m,_ as b,_a as s,ea as F,eb as c,fb as O,gb as u,hb as S,ib as D,jb as V,ua as w,va as a,za as E}from"./chunk-S4WCWVDQ.js";var h=class t{card;tabId;cardEvent=new F;flipped=!1;toggleFlip(){this.flipped=!this.flipped}sendData(){this.cardEvent.emit({card:this.card,tabId:this.tabId})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-reversible-card"]],inputs:{card:"card",tabId:"tabId"},outputs:{cardEvent:"cardEvent"},decls:12,vars:6,consts:[[1,"reversible-card",3,"click"],[1,"reversible-card__inner"],[1,"reversible-card__face","reversible-card__face--front"],[1,"reversible-card__title"],[1,"reversible-card__image-container"],[1,"reversible-card__image",3,"src","alt"],[1,"reversible-card__face","reversible-card__face--back"],[1,"reversible-card__description"],[3,"click"]],template:function(e,n){e&1&&(o(0,"div",0),m("click",function(){return n.toggleFlip()}),o(1,"div",1)(2,"div",2)(3,"h3",3),c(4),r(),o(5,"div",4),x(6,"img",5),r()(),o(7,"div",6)(8,"p",7),c(9),r(),o(10,"button",8),m("click",function(){return n.sendData()}),c(11,"Seleccionar"),r()()()()),e&2&&(f("reversible-card--flipped",n.flipped),a(4),O(n.card.titulo),a(2),l("src",n.card.imagen,w)("alt",n.card.titulo),a(3),O(n.card.descripcion))},styles:[".reversible-card[_ngcontent-%COMP%]{height:170px;perspective:1000px;cursor:pointer}.reversible-card__inner[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;transition:transform .6s;transform-style:preserve-3d}.reversible-card--flipped[_ngcontent-%COMP%]   .reversible-card__inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.reversible-card__face[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:8px;box-shadow:2px 2px 10px #0000001a;text-align:center;padding:10px;box-sizing:border-box}.reversible-card__face--front[_ngcontent-%COMP%]{background:#f1e1cc;border:1px solid #ccc}.reversible-card__face--back[_ngcontent-%COMP%]{background:#b66140;color:#fff;transform:rotateY(180deg)}.reversible-card__image-container[_ngcontent-%COMP%]{width:100%;overflow:hidden}.reversible-card__image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border-radius:5px}.reversible-card__title[_ngcontent-%COMP%]{font-size:14px;font-weight:400;margin-top:5px;font-family:Courier New,Courier,monospace}.reversible-card__description[_ngcontent-%COMP%]{font-size:.9rem;padding:5px}"]})};var M=class t{constructor(i){this.http=i}dataUrl="assets/data/tabs-data.json";getTabsData(){return this.http.get(this.dataUrl)}static \u0275fac=function(e){return new(e||t)(y(R))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})};function Y(t,i){if(t&1){let e=v();o(0,"button",7),m("click",function(){let d=g(e).$implicit,p=s();return b(p.seleccionarTab(d.id))}),c(1),x(2,"span",8),r()}if(t&2){let e=i.$implicit,n=i.index,d=s();f("active",e.activo),l("disabled",e.deshabilitado),a(),u(" ",e.titulo," "),a(),f("filled",e.activo||n<d.progreso)}}function K(t,i){if(t&1){let e=v();o(0,"app-reversible-card",13),m("cardEvent",function(d){g(e);let p=s(3);return b(p.seleccionarCard(d))}),r()}if(t&2){let e=i.$implicit,n=s(2).$implicit;l("card",e)("tabId",n.id)}}function L(t,i){if(t&1){let e=v();o(0,"div",14)(1,"h3"),c(2,"\u270D\uFE0F Agrega un comentario"),r(),o(3,"div",15)(4,"textarea",16),V("ngModelChange",function(d){g(e);let p=s(3);return D(p.comentario,d)||(p.comentario=d),b(d)}),m("keyup.enter",function(){g(e);let d=s(3);return b(d.confirmarComentario())}),r(),o(5,"button",17),m("click",function(){g(e);let d=s(3);return b(d.confirmarComentario())}),c(6,"Enviar"),r()()()}if(t&2){let e=s(3);a(4),S("ngModel",e.comentario)}}function G(t,i){if(t&1&&(o(0,"div")(1,"div",10),_(2,K,1,2,"app-reversible-card",11),r(),_(3,L,7,1,"div",12),r()),t&2){let e=s().$implicit,n=s();a(2),l("ngForOf",e.cards)("ngForTrackBy",n.trackByFn),a(),l("ngIf",n.esUltimoTab(e.id))}}function J(t,i){if(t&1&&(T(0),_(1,G,4,3,"div",9),I()),t&2){let e=i.$implicit;a(),l("ngIf",e.activo)}}function Q(t,i){if(t&1&&(o(0,"p")(1,"strong"),c(2,"Personalidad:"),r(),c(3),r()),t&2){let e=s(2);a(3),u(" ",e.seleccionados[0].card.titulo,"")}}function X(t,i){if(t&1&&(o(0,"p")(1,"strong"),c(2,"Culidad:"),r(),c(3),r()),t&2){let e=s(2);a(3),u(" ",e.seleccionados[1].card.titulo,"")}}function Z(t,i){if(t&1&&(o(0,"div",18)(1,"h2"),c(2,"\u2705 Resumen de Selecci\xF3n"),r(),_(3,Q,4,1,"p",9)(4,X,4,1,"p",9),o(5,"p")(6,"strong"),c(7,"Comentario:"),r(),c(8),r()()),t&2){let e=s();a(3),l("ngIf",e.seleccionados[0]),a(),l("ngIf",e.seleccionados[1]),a(4),u(" ",e.comentario,"")}}var P=class t{constructor(i){this.dataService=i}comentario="";mostrarResumen=!1;seleccionados=[];progreso=0;tabs=[];ngOnInit(){this.dataService.getTabsData().subscribe(i=>{this.tabs=i})}seleccionarTab(i){this.tabs.forEach(e=>{e.activo=e.id===i,e.deshabilitado=e.id<i}),this.progreso=this.tabs.findIndex(e=>e.id===i)}seleccionarCard(i){let{card:e,tabId:n}=i;this.seleccionados.findIndex(p=>p.card.id===e.id&&p.tabId===n)===-1&&this.seleccionados.push({card:e,tabId:n}),n<this.tabs.length&&this.seleccionarTab(n+1)}confirmarComentario(){this.comentario.trim()!==""&&this.seleccionados.length>=2&&(this.mostrarResumen=!0)}esUltimoTab(i){return i===this.tabs[this.tabs.length-1].id}trackByFn(i,e){return e.id}static \u0275fac=function(e){return new(e||t)(E(M))};static \u0275cmp=C({type:t,selectors:[["app-feedback"]],decls:9,vars:5,consts:[[1,"tab-content"],[1,"title"],[1,"descripcion"],[1,"tabs"],[3,"active","disabled","click",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","resumen",4,"ngIf"],[3,"click","disabled"],[1,"progress-line"],[4,"ngIf"],[1,"cards-container"],[3,"card","tabId","cardEvent",4,"ngFor","ngForOf","ngForTrackBy"],["class","comentario-container",4,"ngIf"],[3,"cardEvent","card","tabId"],[1,"comentario-container"],[1,"input-container"],["placeholder","Escribe tu comentario aqu\xED...","autocomplete","off",3,"ngModelChange","keyup.enter","ngModel"],[3,"click"],[1,"resumen"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"h1",1),c(2,"TOTEM FEEDBACK"),r(),o(3,"p",2),c(4,"Selecciona una de las opciones que mejor te represente."),r(),o(5,"div",3),_(6,Y,3,6,"button",4),r(),_(7,J,2,1,"ng-container",5)(8,Z,9,3,"div",6),r()),e&2&&(a(6),l("ngForOf",n.tabs)("ngForTrackBy",n.trackByFn),a(),l("ngForOf",n.tabs)("ngForTrackBy",n.trackByFn),a(),l("ngIf",n.mostrarResumen&&n.seleccionados.length))},dependencies:[j,B,N,A,z,U,$,h],styles:[".tabs-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto;text-align:center}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;position:relative;margin-bottom:15px;overflow:hidden}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace;flex:1;padding:10px;border:none;background:transparent;cursor:pointer;font-size:14px;position:relative;text-align:center}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#019114;font-weight:700}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#ccc;cursor:not-allowed}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){color:#019114}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .progress-line[_ngcontent-%COMP%]{display:block;height:4px;background:#ccc;width:100%;position:absolute;bottom:0;left:0;transition:background .3s}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .progress-line.filled[_ngcontent-%COMP%]{background:#019114}.tab-content[_ngcontent-%COMP%]{max-width:400px;margin:auto;padding:15px;border:1px solid #ddd;border-radius:5px;background:#f9f9f9;text-align:center}.resumen[_ngcontent-%COMP%]{max-width:400px;margin:20px auto auto;padding:20px;border-top:2px solid #ddd}.resumen[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}.comentario-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-top:15px}.comentario-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.comentario-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.comentario-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{flex:1;min-height:40px;padding:8px;border:1px solid #ccc;border-radius:5px;resize:none}.comentario-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 15px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background .3s ease}.comentario-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.comentario-resumen[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:20px auto auto;padding:15px;border:1px solid #ccc;border-radius:5px;background:#eef;text-align:left}.comentario-resumen[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px;color:#333}.comentario-resumen[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic}.cards-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;justify-content:center;align-items:center;position:relative}@media (max-width: 768px){.cards-container[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 480px){.cards-container[_ngcontent-%COMP%]{gap:2px;grid-template-columns:repeat(112px,1fr)}}.title[_ngcontent-%COMP%], .descripcion[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}"]})};export{P as default};
